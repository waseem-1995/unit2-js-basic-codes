<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <button>Go to checkout</button>
    <h1>Cart Page</h1>
    <h1>Total cart Items : <span id="total-items"></span></h1>
    <h1>Total Cost :<span id="total-cost"></span></h1>
    <div id="container"></div>
  </body>
</html>

<script>
  let products = JSON.parse(localStorage.getItem("cart-items"));
  console.log(products);
  document.querySelector("#total-items").innerText = products.length;

  //products - array of objects
  let total = products.reduce(function (acc, el, i) {
    return acc + Number(el.price);
  }, 0);

  console.log(total);
  document.querySelector(
    "#total-cost"
  ).innerText = `â‚¹ ${total} including taxes`;

  products.map(function (elem, i) {
    //console.log(elem);
    let box = document.createElement("div"); // 36

    let product_img = document.createElement("img");
    product_img.setAttribute("src", elem.image_url);
    product_img.setAttribute("id", "p_image");

    let title = document.createElement("p");
    title.innerText = elem.name;

    let price_tag = document.createElement("p");
    price_tag.innerText = elem.price;

    let btn = document.createElement("button");
    btn.innerText = "Remove";
    btn.addEventListener("click", deleteItem);

    box.append(product_img, title, price_tag, btn);
    document.querySelector("#container").append(box);
  });

  function deleteItem() {
    event.target.parentNode.remove();
  }

  //splice("start_index","no_of_items_to_be_deleted")

  //   let dummyObj = [
  //     {
  //       image_url:
  //         "https://content.shop4reebok.com/static/Product-EX4296/reebok_EX4296_1.jpg.plp",
  //       name: "MEN'S REEBOK RUNNING ROADMAP SHOES",
  //       price: "1170",
  //       strikedoffprice: "2599",
  //     },
  //     {
  //       image_url:
  //         "https://content.shop4reebok.com/static/Product-G57705/reebok_G57705_1.jpg.plp",
  //       name: "UNISEX REEBOK CLASSICS  BASKETBALL SHOES",
  //       price: 3919,
  //       strikedoffprice: 5599,
  //     },
  //     {
  //       image_url:
  //         "https://content.shop4reebok.com/static/Product-FW0344/reebok_FW0344_1.jpg.plp",
  //       name: "MEN'S REEBOK RUNNING RUN FUSION  SHOES",
  //       price: 1620,
  //       strikedoffprice: 3599,
  //     },
  //     {
  //       image_url:
  //         "https://content.shop4reebok.com/static/Product-HC3528/reebok_HC3528_1.jpg.plp",
  //       name: "MEN'S REEBOK TRAINING ACTIVE BASIC POLO TEE",
  //       price: 779,
  //       strikedoffprice: 1299,
  //     },
  //     {
  //       image_url:
  //         " https://content.shop4reebok.com/static/Product-HB5732/reebok_HB5732_1.jpg.plp  ",
  //       name: " MEN REEBOK CLASSICS TRACKSUIT HOODIE  ",
  //       price: 3499,
  //       strikedoffprice: 4999,
  //     },
  //   ];

  //   dummyObj.splice(2, 1);
  //   console.log(dummyObj);
</script>
